{"ast":null,"code":"var _jsxFileName = \"/Users/francisbonacic/Desktop/React/src/components/SignUp.js\";\nimport React from \"react\"; // import { useHistory } from \"react-router-dom\";\n\nimport * as yup from \"yup\";\nimport formSchema from \"../validation/formSchema\"; // import axiosWithAuth from '../components/axiosWithAuth'\n\nimport axios from \"axios\";\n\nconst SignUp = props => {\n  const logInState = props.logInState;\n  const setLogInState = props.setLogInState;\n  const errors = props.errors;\n  const setErrors = props.setErrors;\n  const buttonDisabled = props.buttonDisabled;\n  const post = props.post;\n  const setPost = props.setPost; //validation\n\n  const validateChange = e => {\n    yup.reach(formSchema, e.target.name).validate(e.target.value).then(valid => {\n      setErrors({ ...errors,\n        [e.target.name]: \"\"\n      });\n    }).catch(err => {\n      setErrors({ ...errors,\n        [e.target.name]: err.errors[0]\n      });\n    });\n  };\n\n  const formSubmit = event => {\n    event.preventDefault();\n    axios.post(\"https://lambda-bw-sleep-tracker.herokuapp.com/auth/login\", logInState).then(response => {\n      // localStorage.setItem('token', response.data.payload)\n      // history.push('/signup')\n      setPost(response.data);\n      console.log(\"success\", post);\n      setLogInState({\n        username: \"\",\n        password: \"\"\n      });\n    }).catch(err => {\n      console.log(err.response);\n    });\n  };\n\n  const inputChange = event => {\n    event.persist();\n    const newFormData = { ...logInState,\n      [event.target.name]: event.target.type === \"checkbox\" ? event.target.checked : event.target.value\n    };\n    validateChange(event);\n    setLogInState(newFormData);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logIn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, \".Logo\"), /*#__PURE__*/React.createElement(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, \"Home\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, \"About\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, \"Sign Up\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logInForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, \"Sign-Up!\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, \"Track a better sleep.\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: formSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"username\",\n    name: \"username\",\n    type: \"text\",\n    placeholder: \"User Name\",\n    value: logInState.username,\n    onChange: inputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }), errors.username.length > 0 ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, errors.username) : null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"password\",\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"Enter your Password\",\n    value: logInState.password,\n    onChange: inputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }), errors.password.length > 0 ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, errors.password) : null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    disabled: buttonDisabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }, \"Log In\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"./SignUp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, \"Not a Member?\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }), \"Sign-Up to get better sleep.\")), /*#__PURE__*/React.createElement(\"pre\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, JSON.stringify(logInState, null, 2)));\n};\n\nexport default SignUp;","map":{"version":3,"sources":["/Users/francisbonacic/Desktop/React/src/components/SignUp.js"],"names":["React","yup","formSchema","axios","SignUp","props","logInState","setLogInState","errors","setErrors","buttonDisabled","post","setPost","validateChange","e","reach","target","name","validate","value","then","valid","catch","err","formSubmit","event","preventDefault","response","data","console","log","username","password","inputChange","persist","newFormData","type","checked","length","JSON","stringify"],"mappings":"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","sourcesContent":["import React from \"react\";\n// import { useHistory } from \"react-router-dom\";\nimport * as yup from \"yup\";\nimport formSchema from \"../validation/formSchema\";\n// import axiosWithAuth from '../components/axiosWithAuth'\nimport axios from \"axios\";\n\nconst SignUp = (props) => {\n  const logInState = props.logInState;\n  const setLogInState = props.setLogInState;\n  const errors = props.errors;\n  const setErrors = props.setErrors;\n  const buttonDisabled = props.buttonDisabled;\n  const post = props.post;\n  const setPost = props.setPost;\n\n  //validation\n\n  const validateChange = (e) => {\n    yup\n      .reach(formSchema, e.target.name)\n      .validate(e.target.value)\n      .then((valid) => {\n        setErrors({\n          ...errors,\n          [e.target.name]: \"\",\n        });\n      })\n      .catch((err) => {\n        setErrors({\n          ...errors,\n          [e.target.name]: err.errors[0],\n        });\n      });\n  };\n\n  const formSubmit = (event) => {\n    event.preventDefault();\n    axios\n      .post(\n        \"https://lambda-bw-sleep-tracker.herokuapp.com/auth/login\",\n        logInState\n      )\n      .then((response) => {\n        // localStorage.setItem('token', response.data.payload)\n        // history.push('/signup')\n\n        setPost(response.data);\n        console.log(\"success\", post);\n\n        setLogInState({\n          username: \"\",\n          password: \"\",\n        });\n      })\n      .catch((err) => {\n        console.log(err.response);\n      });\n  };\n\n  const inputChange = (event) => {\n    event.persist();\n    const newFormData = {\n      ...logInState,\n      [event.target.name]:\n        event.target.type === \"checkbox\"\n          ? event.target.checked\n          : event.target.value,\n    };\n    validateChange(event);\n    setLogInState(newFormData);\n  };\n\n  return (\n    <div className=\"logIn\">\n      <header>\n        <h1>.Logo</h1>\n        <nav>\n          <ul>Home</ul>\n          <ul>About</ul>\n          <ul>Sign Up</ul>\n        </nav>\n      </header>\n\n      <div className=\"logInForm\">\n        <h2>Sign-Up!</h2>\n        <p>Track a better sleep.</p>\n        <br />\n        <form onSubmit={formSubmit}>\n          <input\n            className=\"username\"\n            name=\"username\"\n            type=\"text\"\n            placeholder=\"User Name\"\n            value={logInState.username}\n            onChange={inputChange}\n          />\n          <br />\n          {errors.username.length > 0 ? (\n            <p className=\"error\">{errors.username}</p>\n          ) : null}\n          <br />\n          <input\n            className=\"password\"\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Enter your Password\"\n            value={logInState.password}\n            onChange={inputChange}\n          />\n          <br />\n          {errors.password.length > 0 ? (\n            <p className=\"error\">{errors.password}</p>\n          ) : null}\n          <br />\n          <button disabled={buttonDisabled}>Log In</button>\n        </form>\n        <br />\n        <br />\n        <a href=\"./SignUp\">\n          Not a Member?\n          <br />\n          Sign-Up to get better sleep.\n        </a>\n      </div>\n      <pre>{JSON.stringify(logInState, null, 2)}</pre>\n    </div>\n  );\n};\n\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}