{"ast":null,"code":"var _jsxFileName = \"/Users/francisbonacic/Desktop/React/src/components/SignUp.js\";\nimport React from \"react\"; // import { useHistory } from \"react-router-dom\";\n\nimport * as yup from \"yup\";\nimport signSchema from '../validation/signSchema'; // import axiosWithAuth from '../components/axiosWithAuth'\n\nimport axios from \"axios\";\n\nconst SignUp = props => {\n  const newUserState = props.newUserState;\n  const setNewUserState = props.setNewUserState;\n  const formError = props.formError;\n  const setFormError = props.setFormError;\n  const buttDisabled = props.buttDisabled;\n  const userPost = props.userPost;\n  const setUserPost = props.setUserPost; //validation\n\n  const validateChange = e => {\n    yup.reach(signSchema, e.target.name).validate(e.target.value).then(valid => {\n      setFormError({ ...formError,\n        [e.target.name]: \"\"\n      });\n    }).catch(err => {\n      setFormError({ ...formError,\n        [e.target.name]: err.errors[0] /// this need to say \"errors\"\n\n      });\n    });\n  };\n\n  const formSubmit = event => {\n    event.preventDefault();\n    axios.post(\"https://lambda-bw-sleep-tracker.herokuapp.com/auth/signup\", newUserState).then(response => {\n      setUserPost(response.data);\n      console.log(\"success\", userPost);\n      setNewUserState({\n        username: \"\",\n        email: \"\",\n        first_name: \"\",\n        last_name: \"\",\n        password: \"\"\n      });\n    }).catch(err => {\n      console.log(err.response);\n    });\n  };\n\n  const inputChange = event => {\n    event.persist();\n    const newFormData = { ...newUserState,\n      [event.target.name]: event.target.type === \"checkbox\" ? event.target.checked : event.target.value\n    };\n    validateChange(event);\n    setNewUserState(newFormData);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signUp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, \".Logo\"), /*#__PURE__*/React.createElement(\"nav\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, \"Home\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, \"About\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, \"Sign-In\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"signUpForm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, \"Sign-Up!\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \"Track a better sleep.\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: formSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"username\",\n    name: \"username\",\n    type: \"text\",\n    placeholder: \"User Name\",\n    value: newUserState.username,\n    onChange: inputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }), formError.username.length > 0 ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, formError.username) : null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"email\",\n    name: \"email\",\n    type: \"email\",\n    placeholder: \"Email\",\n    value: newUserState.email,\n    onChange: inputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }), formError.email.length > 0 ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, formError.email) : null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"password\",\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"Enter your Password\",\n    value: newUserState.password,\n    onChange: inputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }), formError.password.length > 0 ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }\n  }, formError.password) : null, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    disabled: buttDisabled,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, \"Log In\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"./\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 9\n    }\n  }, \"Already a Member?\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }), \"Log-In here.\")), /*#__PURE__*/React.createElement(\"pre\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }\n  }, JSON.stringify(newUserState, null, 2)));\n};\n\nexport default SignUp;","map":{"version":3,"sources":["/Users/francisbonacic/Desktop/React/src/components/SignUp.js"],"names":["React","yup","signSchema","axios","SignUp","props","newUserState","setNewUserState","formError","setFormError","buttDisabled","userPost","setUserPost","validateChange","e","reach","target","name","validate","value","then","valid","catch","err","errors","formSubmit","event","preventDefault","post","response","data","console","log","username","email","first_name","last_name","password","inputChange","persist","newFormData","type","checked","length","JSON","stringify"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,OAAOC,UAAP,MAAuB,0BAAvB,C,CACA;;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,MAAM,GAAIC,KAAD,IAAW;AAGxB,QAAMC,YAAY,GAACD,KAAK,CAACC,YAAzB;AACA,QAAMC,eAAe,GAACF,KAAK,CAACE,eAA5B;AACA,QAAMC,SAAS,GAACH,KAAK,CAACG,SAAtB;AACA,QAAMC,YAAY,GAACJ,KAAK,CAACI,YAAzB;AACA,QAAMC,YAAY,GAACL,KAAK,CAACK,YAAzB;AACA,QAAMC,QAAQ,GAACN,KAAK,CAACM,QAArB;AACA,QAAMC,WAAW,GAACP,KAAK,CAACO,WAAxB,CATwB,CAWxB;;AAEA,QAAMC,cAAc,GAAIC,CAAD,IAAO;AAC5Bb,IAAAA,GAAG,CAACc,KAAJ,CAAUb,UAAV,EAAsBY,CAAC,CAACE,MAAF,CAASC,IAA/B,EACGC,QADH,CACYJ,CAAC,CAACE,MAAF,CAASG,KADrB,EAEGC,IAFH,CAESC,KAAD,IAAW;AACfZ,MAAAA,YAAY,CAAC,EACX,GAAGD,SADQ;AAEX,SAACM,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiB;AAFN,OAAD,CAAZ;AAID,KAPH,EAQGK,KARH,CAQUC,GAAD,IAAS;AACdd,MAAAA,YAAY,CAAC,EACX,GAAGD,SADQ;AAEX,SAACM,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBM,GAAG,CAACC,MAAJ,CAAW,CAAX,CAFN,CAEqB;;AAFrB,OAAD,CAAZ;AAID,KAbH;AAcD,GAfD;;AAiBA,QAAMC,UAAU,GAAIC,KAAD,IAAW;AAC5BA,IAAAA,KAAK,CAACC,cAAN;AACAxB,IAAAA,KAAK,CACFyB,IADH,CAEI,2DAFJ,EAGItB,YAHJ,EAKGc,IALH,CAKSS,QAAD,IAAc;AAElBjB,MAAAA,WAAW,CAACiB,QAAQ,CAACC,IAAV,CAAX;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBrB,QAAvB;AAEAJ,MAAAA,eAAe,CAAC;AAEd0B,QAAAA,QAAQ,EAAE,EAFI;AAGdC,QAAAA,KAAK,EAAE,EAHO;AAIdC,QAAAA,UAAU,EAAE,EAJE;AAKdC,QAAAA,SAAS,EAAE,EALG;AAMdC,QAAAA,QAAQ,EAAE;AANI,OAAD,CAAf;AASD,KAnBH,EAoBGf,KApBH,CAoBUC,GAAD,IAAS;AACdQ,MAAAA,OAAO,CAACC,GAAR,CAAYT,GAAG,CAACM,QAAhB;AACD,KAtBH;AAuBD,GAzBD;;AA2BA,QAAMS,WAAW,GAAIZ,KAAD,IAAW;AAC7BA,IAAAA,KAAK,CAACa,OAAN;AACA,UAAMC,WAAW,GAAG,EAClB,GAAGlC,YADe;AAElB,OAACoB,KAAK,CAACV,MAAN,CAAaC,IAAd,GACES,KAAK,CAACV,MAAN,CAAayB,IAAb,KAAsB,UAAtB,GACIf,KAAK,CAACV,MAAN,CAAa0B,OADjB,GAEIhB,KAAK,CAACV,MAAN,CAAaG;AALD,KAApB;AAOAN,IAAAA,cAAc,CAACa,KAAD,CAAd;AACAnB,IAAAA,eAAe,CAACiC,WAAD,CAAf;AACD,GAXD;;AAaA,sBACE;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHF,CAFF,CADF,eAUE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAKE;AAAM,IAAA,QAAQ,EAAEf,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEE;AACE,IAAA,SAAS,EAAC,UADZ;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,IAAI,EAAC,MAHP;AAIE,IAAA,WAAW,EAAC,WAJd;AAKE,IAAA,KAAK,EAAEnB,YAAY,CAAC2B,QALtB;AAME,IAAA,QAAQ,EAAEK,WANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVF,EAWG9B,SAAS,CAACyB,QAAV,CAAmBU,MAAnB,GAA4B,CAA5B,gBACC;AAAG,IAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsBnC,SAAS,CAACyB,QAAhC,CADD,GAEG,IAbN,eAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdF,eAgBE;AACE,IAAA,SAAS,EAAC,OADZ;AAEE,IAAA,IAAI,EAAC,OAFP;AAGE,IAAA,IAAI,EAAC,OAHP;AAIE,IAAA,WAAW,EAAC,OAJd;AAKE,IAAA,KAAK,EAAE3B,YAAY,CAAC4B,KALtB;AAME,IAAA,QAAQ,EAAEI,WANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBF,eAwBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBF,EAyBG9B,SAAS,CAAC0B,KAAV,CAAgBS,MAAhB,GAAyB,CAAzB,gBACC;AAAG,IAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsBnC,SAAS,CAAC0B,KAAhC,CADD,GAEG,IA3BN,eA4BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA5BF,eA+BE;AACE,IAAA,SAAS,EAAC,UADZ;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,IAAI,EAAC,UAHP;AAIE,IAAA,WAAW,EAAC,qBAJd;AAKE,IAAA,KAAK,EAAE5B,YAAY,CAAC+B,QALtB;AAME,IAAA,QAAQ,EAAEC,WANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA/BF,eAuCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvCF,EAwCG9B,SAAS,CAAC6B,QAAV,CAAmBM,MAAnB,GAA4B,CAA5B,gBACC;AAAG,IAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAsBnC,SAAS,CAAC6B,QAAhC,CADD,GAEG,IA1CN,eA2CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA3CF,eA4CE;AAAQ,IAAA,QAAQ,EAAE3B,YAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cA5CF,CALF,eAmDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAnDF,eAoDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApDF,eAqDE;AAAG,IAAA,IAAI,EAAC,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,iBArDF,CAVF,eAqEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMkC,IAAI,CAACC,SAAL,CAAevC,YAAf,EAA6B,IAA7B,EAAmC,CAAnC,CAAN,CArEF,CADF;AAyED,CA/ID;;AAiJA,eAAeF,MAAf","sourcesContent":["import React from \"react\";\n// import { useHistory } from \"react-router-dom\";\nimport * as yup from \"yup\";\nimport signSchema from '../validation/signSchema'\n// import axiosWithAuth from '../components/axiosWithAuth'\nimport axios from \"axios\";\n\nconst SignUp = (props) => {\n\n\n  const newUserState=props.newUserState;\n  const setNewUserState=props.setNewUserState;\n  const formError=props.formError;\n  const setFormError=props.setFormError;\n  const buttDisabled=props.buttDisabled;\n  const userPost=props.userPost;\n  const setUserPost=props.setUserPost;\n\n  //validation\n\n  const validateChange = (e) => {\n    yup.reach(signSchema, e.target.name)\n      .validate(e.target.value)\n      .then((valid) => {\n        setFormError({\n          ...formError,\n          [e.target.name]: \"\",\n        });\n      })\n      .catch((err) => {\n        setFormError({\n          ...formError,\n          [e.target.name]: err.errors[0], /// this need to say \"errors\"\n        });\n      });\n  };\n\n  const formSubmit = (event) => {\n    event.preventDefault();\n    axios\n      .post(\n        \"https://lambda-bw-sleep-tracker.herokuapp.com/auth/signup\",\n        newUserState\n      )\n      .then((response) => {\n       \n        setUserPost(response.data);\n        console.log(\"success\", userPost);\n\n        setNewUserState({\n\n          username: \"\",\n          email: \"\",\n          first_name: \"\",\n          last_name: \"\",\n          password: \"\",\n\n        });\n      })\n      .catch((err) => {\n        console.log(err.response);\n      });\n  };\n\n  const inputChange = (event) => {\n    event.persist();\n    const newFormData = {\n      ...newUserState,\n      [event.target.name]:\n        event.target.type === \"checkbox\"\n          ? event.target.checked\n          : event.target.value,\n    };\n    validateChange(event);\n    setNewUserState(newFormData);\n  };\n\n  return (\n    <div className=\"signUp\">\n      <header>\n        <h1>.Logo</h1>\n        <nav>\n          <ul>Home</ul>\n          <ul>About</ul>\n          <ul>Sign-In</ul>\n        </nav>\n      </header>\n\n      <div className=\"signUpForm\">\n        <h2>Sign-Up!</h2>\n        <p>Track a better sleep.</p>\n        <br />\n\n        <form onSubmit={formSubmit}>\n\n          <input\n            className=\"username\"\n            name=\"username\"\n            type=\"text\"\n            placeholder=\"User Name\"\n            value={newUserState.username}\n            onChange={inputChange}\n          />\n          <br />\n          {formError.username.length > 0 ? (\n            <p className=\"error\">{formError.username}</p>\n          ) : null}\n          <br />\n\n          <input\n            className=\"email\"\n            name=\"email\"\n            type=\"email\"\n            placeholder=\"Email\"\n            value={newUserState.email}\n            onChange={inputChange}\n          />\n          <br />\n          {formError.email.length > 0 ? (\n            <p className=\"error\">{formError.email}</p>\n          ) : null}\n          <br />\n\n\n          <input\n            className=\"password\"\n            name=\"password\"\n            type=\"password\"\n            placeholder=\"Enter your Password\"\n            value={newUserState.password}\n            onChange={inputChange}\n          />\n          <br />\n          {formError.password.length > 0 ? (\n            <p className=\"error\">{formError.password}</p>\n          ) : null}\n          <br />\n          <button disabled={buttDisabled}>Log In</button>\n        </form>\n        <br />\n        <br />\n        <a href=\"./\">\n          Already a Member?\n          <br />\n          Log-In here.\n        </a>\n      </div>\n      <pre>{JSON.stringify(newUserState, null, 2)}</pre>\n    </div>\n  );\n};\n\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}